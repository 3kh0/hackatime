<%# app/views/memberships/show.html.erb %>
<div class="container">
  <% if @user %>
    <h1>Membership for <%= render "shared/user_mention", user: @user %></h1>
    
    <div class="premium-card-showcase">
      <div class="cards-row">
        <div class="card-container diamond">
          <div class="premium-card">
            <div class="card-content">
              <div class="card-header">
                <div class="hack-club-logo">HACK CLUB</div>
                <div class="chip"></div>
              </div>
              <div class="card-body">
                <div class="hack-club-emblem">
                  <%= image_tag "/flag-standalone-bw.png", class: "flag-icon", alt: "Hack Club Flag" %>
                </div>
              </div>
              <div class="card-footer">
                <div class="card-number">7997</div>
                <div class="member-info">
                  Member<br>
                  Since<br>
                  <strong><%= @member_since&.strftime("%y") || "23" %></strong>
                </div>
                <div class="cardholder-info">
                  <div class="cardholder-name"><%= @user.display_name&.upcase || "DEVEN" %></div>
                  <div class="card-label">Preferred Diamond</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="membership-details">
      <% if @membership.member_since %>
        <p title="<%= @membership.member_since.strftime("%B %d, %Y") %>">
          Member Since <%= @membership.member_since.strftime("%b '%y") %>
          <span class="super">(<%= time_ago_in_words(@membership.member_since) %> ago)</span>
        </p>
      <% end %>
      <% if @user.streak_days_formatted %>
        <p>Current streak: <%= @user.streak_days_formatted %> days ðŸ”¥</p>
      <% end %>
    </div>

    <ul>
      <% @membership.ysws_projects.each do |project| %>
        <li>
          <span class="project-name"><%= project["Code URL"] %></span>
          <span class="super"><%= (project["Hours Spent"] || 0).round(1) %>hrs</span>
          <%= link_to "Play", project["Playable URL"], target: "_blank" %>
          <%= link_to "Code", project["Code URL"], target: "_blank" %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <h1>User Not Found</h1>
    <p>The requested user could not be found.</p>
  <% end %>
</div> 