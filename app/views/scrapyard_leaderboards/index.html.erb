<h1>Scrapyard Event Leaderboard</h1>

<div class="scrapyard-leaderboard">
  <% @event_stats.each do |stats| %>
    <div class="event-card">
      <h2><%= link_to stats[:event].name, scrapyard_leaderboard_path(stats[:event]) %></h2>
      <div class="stats">
        <div class="stat">
          <label>Total Coding Time:</label>
          <span><%= ApplicationController.helpers.short_time_simple(stats[:total_seconds]) %></span>
        </div>
        <div class="stat">
          <label>Attendees:</label>
          <span><%= stats[:attendee_count] %></span>
        </div>
        <div class="stat">
          <label>Average Time per Attendee:</label>
          <span><%= ApplicationController.helpers.short_time_detailed(stats[:average_seconds_per_attendee]) %></span>
        </div>
      </div>
    </div>
  <% end %>
</div>

<% content_for :head do %>
  <style>
    .scrapyard-leaderboard {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    .event-card {
      background: var(--uchu-light-green);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .event-card h2 {
      margin: 0 0 15px 0;
    }

    .event-card h2 a {
      color: inherit;
      text-decoration: none;
    }

    .event-card h2 a:hover {
      text-decoration: underline;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .stat {
      display: flex;
      flex-direction: column;
    }

    .stat label {
      font-size: 0.9em;
      opacity: 0.8;
    }

    .stat span {
      font-size: 1.2em;
      font-weight: bold;
    }
  </style>
<% end %> 